<div class="head-title">
  <div class="left">
    <h1>Dashboard</h1>
    <ul class="breadcrumb">
      <li>
        <a href="#">Dashboard</a>
      </li>
      <li><i class="bx bx-chevron-right"></i></li>
      <li>
        <a class="active" href="#">Home</a>
      </li>
    </ul>
  </div>
</div>

<ul class="box-info">
  <li>
    <i class="bx bxs-calendar-check"></i>
    <span class="text">
      <h3>{{ stats.pending }}</h3>
      <p>Pendientes</p>
    </span>
  </li>
  <li>
    <i class="bx bxs-hourglass-split"></i>
    <span class="text">
      <h3>{{ stats.inProgress }}</h3>
      <p>En Progreso</p>
    </span>
  </li>
  <li>
    <i class="bx bxs-check-circle"></i>
    <span class="text">
      <h3>{{ stats.completed }}</h3>
      <p>Completadas</p>
    </span>
  </li>
</ul>

<div class="table-data">
  <div class="order">
    <div class="head">
      <h3>Actividades Recientes</h3>
      <i class="bx bx-search"></i>
      <i class="bx bx-filter"></i>
    </div>
    <table>
      <thead>
        <tr>
          <th>TÃ­tulo</th>
          <th>Estado</th>
          <th>Prioridad</th>
          <th>Fecha</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        @for (activity of recentActivities; track activity.id) {
          <tr (click)="goToActivity(activity.id)">
            <td>
              <p>{{ activity.title }}</p>
            </td>
            <td>
              <span
                class="status {{
                  activity.status === 'PENDING'
                    ? 'pending'
                    : activity.status === 'IN_PROGRESS'
                      ? 'process'
                      : activity.status === 'COMPLETED'
                        ? 'completed'
                        : 'cancelled'
                }}"
              >
                {{ activity.status }}
              </span>
            </td>
            <td>
              <span
                class="status {{
                  activity.priority === 'URGENT'
                    ? 'urgent'
                    : activity.priority === 'HIGH'
                      ? 'high'
                      : activity.priority === 'MEDIUM'
                        ? 'medium'
                        : 'low'
                }}"
              >
                {{ activity.priority }}
              </span>
            </td>
            <td>{{ activity.scheduledStart | date: "dd/MM/yyyy HH:mm" }}</td>
            <td>
              <a class="btn-sm" [routerLink]="['/activities', activity.id]">
                <i class="bx bx-show"></i>
              </a>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="5" class="text-center">
              No hay actividades recientes
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
